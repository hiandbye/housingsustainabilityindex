function injectWalkScore(e,n,o){e=encodeURIComponent(e);var t="http://api.walkscore.com/score?format=json&address="+e+"&lat="+n+"&lon="+o+"&wsapikey=8f13071ee40f00639634c4859f8cda96";$.ajax({url:t,dataType:"json",type:"GET",success:function(e){displayWalkScore(e)},error:function(){displayWalkScore("")}})}function displayWalkScores(e){displayWalkScore(e)}function displayWalkScore(jsonStr){var json=jsonStr?eval("("+jsonStr+")"):"";if(json&&1==json.status)var htmlStr='<a target="_blank" href="'+json.help_link+'"><img src="'+json.logo_url+'" /><span class="walkscore-scoretext">'+json.walkscore+"</span></a>";else if(json&&2==json.status)var htmlStr='<a target="_blank" href="'+json.help_link+'"><img src="'+json.logo_url+'" /></a> <a href="'+json.ws_link+'"><span class="walkscore-noscoretext">Get Score</span></a>';else var htmlStr='<a target="_blank" href="https://www.walkscore.com"><img src="//cdn2.walk.sc/2/images/api-logo.png" /> <span class="walkscore-noscoretext">Get Score</span></a> ';var infoIconHtml='<span id="ws_info"><a href="https://www.redfin.com/how-walk-score-works" target="_blank"><img src="//cdn2.walk.sc/2/images/api-more-info.gif" width="13" height="13"" /></a></span>';htmlStr="<p>"+htmlStr+infoIconHtml+"</p>",$("#walkscore-div").html(htmlStr)}function bindInfoWindow(e,n,o,t,a,s,l){e.addListener("click",function(){o.setContent(t),injectWalkScore(a,s,l),o.open(n,this)})}function buildContentString(e){var n='<div id="content"><div id="siteNotice"></div><h3 id="firstHeading" class="firstHeading">'+e.address+'</h3><div id="bodyContent">';return n+="N/A"==e.rent?"<p>Rent: N/A </p>":"<p>Rent: $"+e.rent+"</p>",n+="N/A"==e.eBill?"<p>Electric Bill: N/A </p>":"<p>Electric Bill: $"+e.eBill+"</p>",n+="N/A"==e.gBill?"<p>Gas Bill: N/A </p>":"<p>Gas Bill: $"+e.gBill+"</p>",n+="<p>Recycle: "+e.recycle+"</p>",n+="<p>Compost: "+e.compost+"</p>",n+="<p>Bus Line: "+e.busline+"</p>",n+="<p>Bike Lane: "+e.bikelane+"</p>",n+='<div id="walkscore-div"></div>',n+="</div></div>"}function initMap(){var e,n,o,t=new google.maps.Map(document.getElementById("map"),{zoom:10,center:new google.maps.LatLng(48.7426504,(-122.522149))}),a=new google.maps.InfoWindow;for(n=0;n<Object.keys(locations).length;n++){var s=Object.keys(locations)[n],l=locations[s];e=new google.maps.Marker({position:new google.maps.LatLng(l.lat,l.lng),map:t,title:l.address}),o=buildContentString(l),bindInfoWindow(e,t,a,o,l.address,l.lat,l.lng)}}